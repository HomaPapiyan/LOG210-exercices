<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="650px" preserveAspectRatio="none" style="width:1265px;height:650px;background:#FFFFFF;" version="1.1" viewBox="0 0 1265 650" width="1265px" zoomAndPan="magnify"><defs><filter height="300%" id="f1k2padul7dl9f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[d3c2dc865b0154997b4b99c6b093a91c]
class Visite--><rect codeLine="2" fill="#FEFECE" filter="url(#f1k2padul7dl9f)" height="163.2422" id="Visite" style="stroke:#A80036;stroke-width:1.5;" width="240" x="244.5" y="91"/><ellipse cx="343.75" cy="107" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M346.0938,102.6719 C345.1563,102.2344 344.5625,102.0938 343.6875,102.0938 C341.0625,102.0938 339.0625,104.1719 339.0625,106.8906 L339.0625,108.0156 C339.0625,110.5938 341.1719,112.4844 344.0625,112.4844 C345.2813,112.4844 346.4375,112.1875 347.1875,111.6406 C347.7656,111.2344 348.0938,110.7813 348.0938,110.3906 C348.0938,109.9375 347.7031,109.5469 347.2344,109.5469 C347.0156,109.5469 346.8125,109.625 346.625,109.8125 C346.1719,110.2969 346.1719,110.2969 345.9844,110.3906 C345.5625,110.6563 344.875,110.7813 344.1094,110.7813 C342.0625,110.7813 340.7656,109.6875 340.7656,107.9844 L340.7656,106.8906 C340.7656,105.1094 342.0156,103.7969 343.75,103.7969 C344.3281,103.7969 344.9375,103.9531 345.4063,104.2031 C345.8906,104.4844 346.0625,104.7031 346.1563,105.1094 C346.2188,105.5156 346.25,105.6406 346.3906,105.7656 C346.5313,105.9063 346.7656,106.0156 346.9844,106.0156 C347.25,106.0156 347.5156,105.875 347.6875,105.6563 C347.7969,105.5 347.8281,105.3125 347.8281,104.8906 L347.8281,103.4688 C347.8281,103.0313 347.8125,102.9063 347.7188,102.75 C347.5625,102.4844 347.2813,102.3438 346.9844,102.3438 C346.6875,102.3438 346.4844,102.4375 346.2656,102.75 L346.0938,102.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33" x="364.25" y="111.1543">Visite</text><line style="stroke:#A80036;stroke-width:1.5;" x1="245.5" x2="483.5" y1="123" y2="123"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="250.5" y="137.2104">annulerVisite{}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="245.5" x2="483.5" y1="143.8047" y2="143.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="250.5" y="158.0151">checkInParentGardien(){</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="216" x="262.5" y="170.8198">getState().checkInParentGardien(this);</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="7" x="250.5" y="183.6245">}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="250.5" y="196.4292">checkInParentVisiteur()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="250.5" y="209.2339">checkOutParentVisiteur()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="250.5" y="222.0386">checkOutParentGardien()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="250.5" y="234.8433">getState(): IEtatVisite</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="250.5" y="247.6479">setState(IEtatVisite)</text><path d="M30.5,6 L30.5,31.1328 A0,0 0 0 0 30.5,31.1328 L360.5,31.1328 L364.5,90.757 L368.5,31.1328 L698.5,31.1328 A0,0 0 0 0 698.5,31.1328 L698.5,16 L688.5,6 L30.5,6 A0,0 0 0 0 30.5,6 " fill="#FBFB77" filter="url(#f1k2padul7dl9f)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M688.5,6 L688.5,16 L698.5,16 L688.5,6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="647" x="36.5" y="23.0669">https://docs.google.com/document/d/18s-eN0QoqREblJUihUaEC2L7f1hZF82_Jm9PjfL6BuY/edit?pli=1#</text><!--MD5=[ad14ac80dce470efbfe5b47466c2be75]
class IEtatVisite--><rect codeLine="12" fill="#FEFECE" filter="url(#f1k2padul7dl9f)" height="112.0234" id="IEtatVisite" style="stroke:#A80036;stroke-width:1.5;" width="212" x="519.5" y="116.5"/><ellipse cx="592.25" cy="132.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M594.5938,128.1719 C593.6563,127.7344 593.0625,127.5938 592.1875,127.5938 C589.5625,127.5938 587.5625,129.6719 587.5625,132.3906 L587.5625,133.5156 C587.5625,136.0938 589.6719,137.9844 592.5625,137.9844 C593.7813,137.9844 594.9375,137.6875 595.6875,137.1406 C596.2656,136.7344 596.5938,136.2813 596.5938,135.8906 C596.5938,135.4375 596.2031,135.0469 595.7344,135.0469 C595.5156,135.0469 595.3125,135.125 595.125,135.3125 C594.6719,135.7969 594.6719,135.7969 594.4844,135.8906 C594.0625,136.1563 593.375,136.2813 592.6094,136.2813 C590.5625,136.2813 589.2656,135.1875 589.2656,133.4844 L589.2656,132.3906 C589.2656,130.6094 590.5156,129.2969 592.25,129.2969 C592.8281,129.2969 593.4375,129.4531 593.9063,129.7031 C594.3906,129.9844 594.5625,130.2031 594.6563,130.6094 C594.7188,131.0156 594.75,131.1406 594.8906,131.2656 C595.0313,131.4063 595.2656,131.5156 595.4844,131.5156 C595.75,131.5156 596.0156,131.375 596.1875,131.1563 C596.2969,131 596.3281,130.8125 596.3281,130.3906 L596.3281,128.9688 C596.3281,128.5313 596.3125,128.4063 596.2188,128.25 C596.0625,127.9844 595.7813,127.8438 595.4844,127.8438 C595.1875,127.8438 594.9844,127.9375 594.7656,128.25 L594.5938,128.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="612.75" y="136.6543">IEtatVisite</text><line style="stroke:#A80036;stroke-width:1.5;" x1="520.5" x2="730.5" y1="148.5" y2="148.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="520.5" x2="730.5" y1="156.5" y2="156.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="190" x="525.5" y="170.7104">checkInParentGardien(visit:Visite)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="525.5" y="183.5151">annulerVisite(visit:Visite)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="525.5" y="196.3198">checkInParentVisiteur(visit:Visite)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="525.5" y="209.1245">checkOutParentVisiteur(visit:Visite)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="200" x="525.5" y="221.9292">checkOutParentGardien(visit:Visite)</text><!--MD5=[5f6be0edfd742f8f4d0f1314ddda29a5]
class AEtatVisite--><rect codeLine="20" fill="#FEFECE" filter="url(#f1k2padul7dl9f)" height="137.6328" id="AEtatVisite" style="stroke:#A80036;stroke-width:1.5;" width="356" x="447.5" y="314"/><ellipse cx="589.75" cy="330" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M592.0938,325.6719 C591.1563,325.2344 590.5625,325.0938 589.6875,325.0938 C587.0625,325.0938 585.0625,327.1719 585.0625,329.8906 L585.0625,331.0156 C585.0625,333.5938 587.1719,335.4844 590.0625,335.4844 C591.2813,335.4844 592.4375,335.1875 593.1875,334.6406 C593.7656,334.2344 594.0938,333.7813 594.0938,333.3906 C594.0938,332.9375 593.7031,332.5469 593.2344,332.5469 C593.0156,332.5469 592.8125,332.625 592.625,332.8125 C592.1719,333.2969 592.1719,333.2969 591.9844,333.3906 C591.5625,333.6563 590.875,333.7813 590.1094,333.7813 C588.0625,333.7813 586.7656,332.6875 586.7656,330.9844 L586.7656,329.8906 C586.7656,328.1094 588.0156,326.7969 589.75,326.7969 C590.3281,326.7969 590.9375,326.9531 591.4063,327.2031 C591.8906,327.4844 592.0625,327.7031 592.1563,328.1094 C592.2188,328.5156 592.25,328.6406 592.3906,328.7656 C592.5313,328.9063 592.7656,329.0156 592.9844,329.0156 C593.25,329.0156 593.5156,328.875 593.6875,328.6563 C593.7969,328.5 593.8281,328.3125 593.8281,327.8906 L593.8281,326.4688 C593.8281,326.0313 593.8125,325.9063 593.7188,325.75 C593.5625,325.4844 593.2813,325.3438 592.9844,325.3438 C592.6875,325.3438 592.4844,325.4375 592.2656,325.75 L592.0938,325.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63" x="610.25" y="334.1543">AEtatVisite</text><line style="stroke:#A80036;stroke-width:1.5;" x1="448.5" x2="802.5" y1="346" y2="346"/><line style="stroke:#A80036;stroke-width:1.5;" x1="448.5" x2="802.5" y1="354" y2="354"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="453.5" y="368.2104">checkInParentGardien(visit:Visite){</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="332" x="465.5" y="381.0151">throw new Execption("L'état de la visite doit être valide");</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="7" x="453.5" y="393.8198">}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="453.5" y="406.6245">annulerVisite(visit:Visite)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="453.5" y="419.4292">checkInParentVisiteur(visit:Visite)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="453.5" y="432.2339">checkOutParentVisiteur(visit:Visite)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="200" x="453.5" y="445.0386">checkOutParentGardien(visit:Visite)</text><path d="M130.5,370.5 L130.5,395.6328 A0,0 0 0 0 130.5,395.6328 L412.5,395.6328 A0,0 0 0 0 412.5,395.6328 L412.5,388.5 L447.484,383 L412.5,380.5 L412.5,380.5 L402.5,370.5 L130.5,370.5 A0,0 0 0 0 130.5,370.5 " fill="#FBFB77" filter="url(#f1k2padul7dl9f)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M402.5,370.5 L402.5,380.5 L412.5,380.5 L402.5,370.5 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="136.5" y="387.5669">toutes les méthode throw une exception</text><!--MD5=[3e4bedf0b9f539900267f1905947f089]
class VisiteValide--><rect codeLine="28" fill="#FEFECE" filter="url(#f1k2padul7dl9f)" height="124.8281" id="VisiteValide" style="stroke:#A80036;stroke-width:1.5;" width="217" x="7" y="512"/><ellipse cx="76.25" cy="528" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M78.5938,523.6719 C77.6563,523.2344 77.0625,523.0938 76.1875,523.0938 C73.5625,523.0938 71.5625,525.1719 71.5625,527.8906 L71.5625,529.0156 C71.5625,531.5938 73.6719,533.4844 76.5625,533.4844 C77.7813,533.4844 78.9375,533.1875 79.6875,532.6406 C80.2656,532.2344 80.5938,531.7813 80.5938,531.3906 C80.5938,530.9375 80.2031,530.5469 79.7344,530.5469 C79.5156,530.5469 79.3125,530.625 79.125,530.8125 C78.6719,531.2969 78.6719,531.2969 78.4844,531.3906 C78.0625,531.6563 77.375,531.7813 76.6094,531.7813 C74.5625,531.7813 73.2656,530.6875 73.2656,528.9844 L73.2656,527.8906 C73.2656,526.1094 74.5156,524.7969 76.25,524.7969 C76.8281,524.7969 77.4375,524.9531 77.9063,525.2031 C78.3906,525.4844 78.5625,525.7031 78.6563,526.1094 C78.7188,526.5156 78.75,526.6406 78.8906,526.7656 C79.0313,526.9063 79.2656,527.0156 79.4844,527.0156 C79.75,527.0156 80.0156,526.875 80.1875,526.6563 C80.2969,526.5 80.3281,526.3125 80.3281,525.8906 L80.3281,524.4688 C80.3281,524.0313 80.3125,523.9063 80.2188,523.75 C80.0625,523.4844 79.7813,523.3438 79.4844,523.3438 C79.1875,523.3438 78.9844,523.4375 78.7656,523.75 L78.5938,523.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="96.75" y="532.1543">VisiteValide</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="223" y1="544" y2="544"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="223" y1="552" y2="552"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="197" x="13" y="566.2104">checkInParentGardien(visit:Visite){</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="25" y="579.0151">visite.setState(new GardienIn());</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="7" x="13" y="591.8198">}</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148" x="13" y="604.6245">annulerVisite(visit:Visite){</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="193" x="25" y="617.4292">visit.setState(new visiteAnnule());</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="7" x="13" y="630.2339">}</text><!--MD5=[3f72c5b3fdf4623dd1f54d078def57a3]
class VisiteAnnulé--><rect codeLine="32" fill="#FEFECE" filter="url(#f1k2padul7dl9f)" height="48" id="VisiteAnnulé" style="stroke:#A80036;stroke-width:1.5;" width="105" x="259" y="550.5"/><ellipse cx="274" cy="566.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M276.3438,562.1719 C275.4063,561.7344 274.8125,561.5938 273.9375,561.5938 C271.3125,561.5938 269.3125,563.6719 269.3125,566.3906 L269.3125,567.5156 C269.3125,570.0938 271.4219,571.9844 274.3125,571.9844 C275.5313,571.9844 276.6875,571.6875 277.4375,571.1406 C278.0156,570.7344 278.3438,570.2813 278.3438,569.8906 C278.3438,569.4375 277.9531,569.0469 277.4844,569.0469 C277.2656,569.0469 277.0625,569.125 276.875,569.3125 C276.4219,569.7969 276.4219,569.7969 276.2344,569.8906 C275.8125,570.1563 275.125,570.2813 274.3594,570.2813 C272.3125,570.2813 271.0156,569.1875 271.0156,567.4844 L271.0156,566.3906 C271.0156,564.6094 272.2656,563.2969 274,563.2969 C274.5781,563.2969 275.1875,563.4531 275.6563,563.7031 C276.1406,563.9844 276.3125,564.2031 276.4063,564.6094 C276.4688,565.0156 276.5,565.1406 276.6406,565.2656 C276.7813,565.4063 277.0156,565.5156 277.2344,565.5156 C277.5,565.5156 277.7656,565.375 277.9375,565.1563 C278.0469,565 278.0781,564.8125 278.0781,564.3906 L278.0781,562.9688 C278.0781,562.5313 278.0625,562.4063 277.9688,562.25 C277.8125,561.9844 277.5313,561.8438 277.2344,561.8438 C276.9375,561.8438 276.7344,561.9375 276.5156,562.25 L276.3438,562.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="73" x="288" y="570.6543">VisiteAnnulé</text><line style="stroke:#A80036;stroke-width:1.5;" x1="260" x2="363" y1="582.5" y2="582.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="260" x2="363" y1="590.5" y2="590.5"/><!--MD5=[6a26f5a80114200255e8e1b8e1635c2e]
class GardienIn--><rect codeLine="34" fill="#FEFECE" filter="url(#f1k2padul7dl9f)" height="86.4141" id="GardienIn" style="stroke:#A80036;stroke-width:1.5;" width="207" x="399" y="531.5"/><ellipse cx="469.75" cy="547.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M472.0938,543.1719 C471.1563,542.7344 470.5625,542.5938 469.6875,542.5938 C467.0625,542.5938 465.0625,544.6719 465.0625,547.3906 L465.0625,548.5156 C465.0625,551.0938 467.1719,552.9844 470.0625,552.9844 C471.2813,552.9844 472.4375,552.6875 473.1875,552.1406 C473.7656,551.7344 474.0938,551.2813 474.0938,550.8906 C474.0938,550.4375 473.7031,550.0469 473.2344,550.0469 C473.0156,550.0469 472.8125,550.125 472.625,550.3125 C472.1719,550.7969 472.1719,550.7969 471.9844,550.8906 C471.5625,551.1563 470.875,551.2813 470.1094,551.2813 C468.0625,551.2813 466.7656,550.1875 466.7656,548.4844 L466.7656,547.3906 C466.7656,545.6094 468.0156,544.2969 469.75,544.2969 C470.3281,544.2969 470.9375,544.4531 471.4063,544.7031 C471.8906,544.9844 472.0625,545.2031 472.1563,545.6094 C472.2188,546.0156 472.25,546.1406 472.3906,546.2656 C472.5313,546.4063 472.7656,546.5156 472.9844,546.5156 C473.25,546.5156 473.5156,546.375 473.6875,546.1563 C473.7969,546 473.8281,545.8125 473.8281,545.3906 L473.8281,543.9688 C473.8281,543.5313 473.8125,543.4063 473.7188,543.25 C473.5625,542.9844 473.2813,542.8438 472.9844,542.8438 C472.6875,542.8438 472.4844,542.9375 472.2656,543.25 L472.0938,543.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="57" x="490.25" y="551.6543">GardienIn</text><line style="stroke:#A80036;stroke-width:1.5;" x1="400" x2="605" y1="563.5" y2="563.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="400" x2="605" y1="571.5" y2="571.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="195" x="405" y="585.7104">checkInParentVisiteur(visit:Visite){</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="183" x="417" y="598.5151">visite.setState(new VisiteurIn());</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="7" x="405" y="611.3198">}</text><!--MD5=[9994fc56f2e36fd3895619ae3ce84ba2]
class VisiteurIn--><rect codeLine="37" fill="#FEFECE" filter="url(#f1k2padul7dl9f)" height="86.4141" id="VisiteurIn" style="stroke:#A80036;stroke-width:1.5;" width="217" x="641" y="531.5"/><ellipse cx="717.75" cy="547.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M720.0938,543.1719 C719.1563,542.7344 718.5625,542.5938 717.6875,542.5938 C715.0625,542.5938 713.0625,544.6719 713.0625,547.3906 L713.0625,548.5156 C713.0625,551.0938 715.1719,552.9844 718.0625,552.9844 C719.2813,552.9844 720.4375,552.6875 721.1875,552.1406 C721.7656,551.7344 722.0938,551.2813 722.0938,550.8906 C722.0938,550.4375 721.7031,550.0469 721.2344,550.0469 C721.0156,550.0469 720.8125,550.125 720.625,550.3125 C720.1719,550.7969 720.1719,550.7969 719.9844,550.8906 C719.5625,551.1563 718.875,551.2813 718.1094,551.2813 C716.0625,551.2813 714.7656,550.1875 714.7656,548.4844 L714.7656,547.3906 C714.7656,545.6094 716.0156,544.2969 717.75,544.2969 C718.3281,544.2969 718.9375,544.4531 719.4063,544.7031 C719.8906,544.9844 720.0625,545.2031 720.1563,545.6094 C720.2188,546.0156 720.25,546.1406 720.3906,546.2656 C720.5313,546.4063 720.7656,546.5156 720.9844,546.5156 C721.25,546.5156 721.5156,546.375 721.6875,546.1563 C721.7969,546 721.8281,545.8125 721.8281,545.3906 L721.8281,543.9688 C721.8281,543.5313 721.8125,543.4063 721.7188,543.25 C721.5625,542.9844 721.2813,542.8438 720.9844,542.8438 C720.6875,542.8438 720.4844,542.9375 720.2656,543.25 L720.0938,543.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="55" x="738.25" y="551.6543">VisiteurIn</text><line style="stroke:#A80036;stroke-width:1.5;" x1="642" x2="857" y1="563.5" y2="563.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="642" x2="857" y1="571.5" y2="571.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="205" x="647" y="585.7104">checkOutParentVisiteur(visit:Visite){</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="190" x="659" y="598.5151">visite.setState(new VisteurOut());</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="7" x="647" y="611.3198">}</text><!--MD5=[f7d5020e729a062644a6f250c0518826]
class VisiteurOut--><rect codeLine="40" fill="#FEFECE" filter="url(#f1k2padul7dl9f)" height="86.4141" id="VisiteurOut" style="stroke:#A80036;stroke-width:1.5;" width="219" x="893" y="531.5"/><ellipse cx="965.25" cy="547.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M967.5938,543.1719 C966.6563,542.7344 966.0625,542.5938 965.1875,542.5938 C962.5625,542.5938 960.5625,544.6719 960.5625,547.3906 L960.5625,548.5156 C960.5625,551.0938 962.6719,552.9844 965.5625,552.9844 C966.7813,552.9844 967.9375,552.6875 968.6875,552.1406 C969.2656,551.7344 969.5938,551.2813 969.5938,550.8906 C969.5938,550.4375 969.2031,550.0469 968.7344,550.0469 C968.5156,550.0469 968.3125,550.125 968.125,550.3125 C967.6719,550.7969 967.6719,550.7969 967.4844,550.8906 C967.0625,551.1563 966.375,551.2813 965.6094,551.2813 C963.5625,551.2813 962.2656,550.1875 962.2656,548.4844 L962.2656,547.3906 C962.2656,545.6094 963.5156,544.2969 965.25,544.2969 C965.8281,544.2969 966.4375,544.4531 966.9063,544.7031 C967.3906,544.9844 967.5625,545.2031 967.6563,545.6094 C967.7188,546.0156 967.75,546.1406 967.8906,546.2656 C968.0313,546.4063 968.2656,546.5156 968.4844,546.5156 C968.75,546.5156 969.0156,546.375 969.1875,546.1563 C969.2969,546 969.3281,545.8125 969.3281,545.3906 L969.3281,543.9688 C969.3281,543.5313 969.3125,543.4063 969.2188,543.25 C969.0625,542.9844 968.7813,542.8438 968.4844,542.8438 C968.1875,542.8438 967.9844,542.9375 967.7656,543.25 L967.5938,543.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66" x="985.75" y="551.6543">VisiteurOut</text><line style="stroke:#A80036;stroke-width:1.5;" x1="894" x2="1111" y1="563.5" y2="563.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="894" x2="1111" y1="571.5" y2="571.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="207" x="899" y="585.7104">checkOutParentGardien(visit:Visite){</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="911" y="598.5151">visit.setState(new GardientOut());</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="7" x="899" y="611.3198">}</text><!--MD5=[2ea4d0ffe21f56b9e4d7868aaf69ffc7]
class GardientOut--><rect codeLine="43" fill="#FEFECE" filter="url(#f1k2padul7dl9f)" height="48" id="GardientOut" style="stroke:#A80036;stroke-width:1.5;" width="104" x="1147.5" y="550.5"/><ellipse cx="1162.5" cy="566.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1164.8438,562.1719 C1163.9063,561.7344 1163.3125,561.5938 1162.4375,561.5938 C1159.8125,561.5938 1157.8125,563.6719 1157.8125,566.3906 L1157.8125,567.5156 C1157.8125,570.0938 1159.9219,571.9844 1162.8125,571.9844 C1164.0313,571.9844 1165.1875,571.6875 1165.9375,571.1406 C1166.5156,570.7344 1166.8438,570.2813 1166.8438,569.8906 C1166.8438,569.4375 1166.4531,569.0469 1165.9844,569.0469 C1165.7656,569.0469 1165.5625,569.125 1165.375,569.3125 C1164.9219,569.7969 1164.9219,569.7969 1164.7344,569.8906 C1164.3125,570.1563 1163.625,570.2813 1162.8594,570.2813 C1160.8125,570.2813 1159.5156,569.1875 1159.5156,567.4844 L1159.5156,566.3906 C1159.5156,564.6094 1160.7656,563.2969 1162.5,563.2969 C1163.0781,563.2969 1163.6875,563.4531 1164.1563,563.7031 C1164.6406,563.9844 1164.8125,564.2031 1164.9063,564.6094 C1164.9688,565.0156 1165,565.1406 1165.1406,565.2656 C1165.2813,565.4063 1165.5156,565.5156 1165.7344,565.5156 C1166,565.5156 1166.2656,565.375 1166.4375,565.1563 C1166.5469,565 1166.5781,564.8125 1166.5781,564.3906 L1166.5781,562.9688 C1166.5781,562.5313 1166.5625,562.4063 1166.4688,562.25 C1166.3125,561.9844 1166.0313,561.8438 1165.7344,561.8438 C1165.4375,561.8438 1165.2344,561.9375 1165.0156,562.25 L1164.8438,562.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="1176.5" y="570.6543">GardientOut</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1148.5" x2="1250.5" y1="582.5" y2="582.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1148.5" x2="1250.5" y1="590.5" y2="590.5"/><!--MD5=[c76654465ff2f772a667b7d87327dce0]
reverse link IEtatVisite to AEtatVisite--><path d="M625.5,248.72 C625.5,270.029 625.5,293.095 625.5,313.954 " fill="none" id="IEtatVisite-backto-AEtatVisite" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="618.5,248.554,625.5,228.554,632.5,248.554,618.5,248.554" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[74ac5421bdd06d311f455ec415ccfb37]
reverse link AEtatVisite to VisiteValide--><path d="M428.27,452.279 C342.923,479.807 317.496,481.513 241.5,512 C235.852,514.266 230.106,516.675 224.334,519.179 " fill="none" id="AEtatVisite-backto-VisiteValide" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="426.246,445.576,447.431,445.994,430.61,458.879,426.246,445.576" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[054a809dd6b9c2e63672b4d2a92246fb]
reverse link AEtatVisite to VisiteAnnulé--><path d="M463.913,461.803 C435.75,477.308 407.253,494.306 381.5,512 C364.967,523.359 348.027,538.1433 334.953,550.3692 " fill="none" id="AEtatVisite-backto-VisiteAnnulé" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="460.935,455.455,481.857,452.094,467.598,467.768,460.935,455.455" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6fae27eed048f3d28e23b6060fad031f]
reverse link AEtatVisite to GardienIn--><path d="M570.211,469.181 C556.239,490.706 541.836,512.898 529.924,531.249 " fill="none" id="AEtatVisite-backto-GardienIn" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="564.507,465.111,581.268,452.146,576.251,472.733,564.507,465.111" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d6bdfdc464b15a63c317e037fc2062ab]
reverse link AEtatVisite to VisiteurIn--><path d="M681.238,469.181 C695.324,490.706 709.845,512.898 721.853,531.249 " fill="none" id="AEtatVisite-backto-VisiteurIn" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="675.185,472.714,670.092,452.146,686.9,465.049,675.185,472.714" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b774b057ec562211322e3a008a2985aa]
reverse link AEtatVisite to VisiteurOut--><path d="M778.956,461.135 C826.78,485.174 877.724,510.781 918.882,531.469 " fill="none" id="AEtatVisite-backto-VisiteurOut" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="775.533,467.249,760.807,452.012,781.82,454.74,775.533,467.249" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4e1aaec5c74c4b982465b4a1cf0db1d5]
reverse link AEtatVisite to GardientOut--><path d="M823.69,411.986 C919.915,431.043 1034.88,462.164 1129.5,512 C1147.96,521.725 1165.59,537.265 1178.54,550.2904 " fill="none" id="AEtatVisite-backto-GardientOut" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="822.089,418.807,803.769,408.159,824.731,405.058,822.089,418.807" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[837fd1b0f5bc43ada564c49026044127]
link Visite to IEtatVisite--><path codeLine="46" d="M484.55,172.5 C494.396,172.5 504.242,172.5 514.088,172.5 " fill="none" id="Visite-to-IEtatVisite" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="519.237,172.5,510.237,168.5,514.237,172.5,510.237,176.5,519.237,172.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="495.56" y="169.0667">ev</text><!--MD5=[70718ed06e846d8943eb7bb55d68f087]
@startuml
note top of Visite: https://docs.google.com/document/d/18s-eN0QoqREblJUihUaEC2L7f1hZF82_Jm9PjfL6BuY/edit?pli=1#
class Visite{
    checkInParentGardien(){\n   getState().checkInParentGardien(this);\n}
    annulerVisite{}
    checkInParentVisiteur()
    checkOutParentVisiteur()
    checkOutParentGardien()
    getState(): IEtatVisite
    setState(IEtatVisite)
}

class IEtatVisite{
    checkInParentGardien(visit:Visite)
    annulerVisite(visit:Visite)
    checkInParentVisiteur(visit:Visite)
    checkOutParentVisiteur(visit:Visite)
    checkOutParentGardien(visit:Visite)
}
note left of AEtatVisite: toutes les méthode throw une exception
class AEtatVisite implements IEtatVisite {
    checkInParentGardien(visit:Visite){\n   throw new Execption("L'état de la visite doit être valide");\n}
    annulerVisite(visit:Visite) 
    checkInParentVisiteur(visit:Visite)
    checkOutParentVisiteur(visit:Visite)
    checkOutParentGardien(visit:Visite)
}

class VisiteValide extends AEtatVisite{
    checkInParentGardien(visit:Visite){\n   visite.setState(new GardienIn());\n}
    annulerVisite(visit:Visite){\n   visit.setState(new visiteAnnule());\n}
}
class VisiteAnnulé extends AEtatVisite{}

class GardienIn extends AEtatVisite{
    checkInParentVisiteur(visit:Visite){\n   visite.setState(new VisiteurIn());\n}
}
class VisiteurIn extends AEtatVisite{
    checkOutParentVisiteur(visit:Visite){\n   visite.setState(new VisteurOut());\n}
}
class VisiteurOut extends AEtatVisite{
    checkOutParentGardien(visit:Visite){\n   visit.setState(new GardientOut());\n}
}
class GardientOut extends AEtatVisite{
}

Visite -r-> "ev" IEtatVisite
@enduml

PlantUML version 1.2021.8beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>